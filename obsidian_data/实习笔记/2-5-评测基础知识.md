# 软件测试的定义

软件测试是通过运行软件，检查是否存在问题，验证功能性能等是否符合预期（用户需求）。

# 软件第三方测试的定义

软件第三方测试是由独立于开发方和用户的外部机构，对软件进行客观公正的质量评估，确保其功能、性能及安全符合预期（用户需求）的过程。这里所说的外部机构就是第三方测评机构。
- 装备软件需要做鉴定的情况下：先进行三方测试、再做鉴定测评；
- 无需鉴定的软件：称为三方测评/测试；
- 验证测试：含内部测试和三方测试。

# ZB研制阶段

装备软件研制阶段
1. 论证阶段
- 严总
- 立项审批

2. 方案设计阶段
- 系统规格
- 系统设计

3. 工程研制阶段
- 正样阶段（C）-第三方软件测试（初样研制结果结束的软件）版本V1，XX，XX(LJ)
- 初样阶段（S）- 版本V0，XX，XX(LJ)

4. 鉴定定性阶段
- 状态鉴定-状态鉴定软件测评（正样研制结束的软件）版本V2，XX，XX(LJ)
- 补充测试验证

# ZB软件测评类别

主要包括：内部测试、三方测试、鉴定测评。

1. 内部测试：一般由研制单位自己的测试部门执行的测试，但有些单位会将内部测试外协（此处我们可以去挖掘市场)

测试级别：内部测试一般包括单元测试、集成测试、配置项测试和系统测试；这里的内部测试一般会外
协单元测试和集成测试，我们公司的白盒测试部可以做。配置项测试和系统测试一般研制单位自己就做
了。

测试对象：研制单位自己开发的所有软件均需进行内部测试。但针对不同等级的软件开展的测试级别不
一样。

2. 三方测试：由第三方测评机构对研制单位开发的软件进行测试。

3. 鉴定测评：一般由方指定的第三方测评机构对研制单位开发的软件进行测试。

# 资质类型

资质类别：CNAS、CMA、承制、2725A(即为J服务)、试验机构清单；

认可能力范围：每个认可的资质都有具体给定的认可能力范围。当甲方有具体要求测试级别、测试
类型、软件类型时，我方可以查找对应资质的认可能力范围表，确认我方是否已获认可，若未获认
可，则提前给甲方声明；只要甲方无强制要求，则我方认可能力范围表中有无都不影响我方承接项
目。

CNAS、CMA标识使用：若有要求盖CNAS或CMA标识，则需提前给甲方声明哪些不在我们的认可
范围内，最终出具的测试报告声明页会明确说明，故需提前与甲方确认是否能够接受。

# 测试基础知识-常用测试标准

GJB2725A-2001《测试实验室和校准实验室通用要求》
对第三方测评机构的质量管理体系要求，是认可J用软件测评实验室的认可依据。

[2005]装电字第324号《J用软件测评实验室测评过程和技术能力要求》：
是GJB2725A-2001的附加要求，主要是针对软件测评实验室的技术能力要求，含测试过程和管理要求、测试级别、测试类型定义等；

707号文《总ZB部LJZB科研订购部ZB软件管理规定》：
做LJ软件测评时，一般都要引用这个文件，主要描述了ZB研制流程，以及软件状态管理和测评相关要求。

GJB/Z141-2004《JY软件测试指南》：
是测评机构开展用嵌入式软件、非嵌入式软件测试技术能力认可的依据，比如CNAS、CMA、承制、
2725A等给定的)用软件认可能力范围中常常包含G)B/Z141-2004,因为测)品软件均要求要有此标准的认可能力；

GB/T 25000.51一2016《系统与软件工程系统与软件质量要求和评价(SQuaRE)第51部分：就绪可用软件产品(RUSP)的质量要求和测试细则》：
是测评机构开展民品应用软件测试技术能力认可的依据，比如CNAS、CMA给定的民品软件认可能力范围中常常包含GB/T25000;

GJB 9433-2018《J用可编程逻辑器件软件测试要求》：
是测评机构开展用可编程逻辑器件软件测试技术能力认可的依据，比如CNAS、CMA、承制、2725A等给定的J用可编程逻辑器件软件测试认可能力范围中包含G)B9433,因为测)用可编程逻辑器件软件均要求要有此标准的认可能力；

TE标准(81项装备试验鉴定指导性文件)：
TE-BTCG-003-2021《J用软件测试指南》后期将替代GJB141
TE-BTCG-004-2021《J用软件鉴定测评指南》
TE-BTCG-007-2021《J用软件鉴定测评大纲和报告》

GJB438B/438C《J用软件开发文档通用要求》：
也就是研制单位提交的被测件文档需按照此要求去写，测评机构需按照此要求去检查研制单位提交的文档是否符合要求。

GJB8114《C/C++语言编程安全子集》：
研制单位提交的被测件代码（嵌入式、非嵌入式软件）若使用C/C++语言编写的，则要按比要求去
做，测评机构按此要求去检查代码是否符合要求。

GJB10157《J用可编程逻辑器件软件Verilog语言编程安全子集》：
研制单位提交的被测件代码(FPGA软件)若使用V/erilog语言编写的，则要按此要求去做，测评机
构按比要求去检查代码是否符合要求。

GJB9765《J用可编程逻辑器件软件编程语言安全子集-VHDL语言篇》：
研制单位提交的被测件代码(FPGA软件)若使用VHDL语言编写的，则要按此要求去做，测评机构
按此要求去检查代码是否符合要求。

# 测试基础知识-软件类型分类

软件类型分类：

1)嵌入式软件；
2)非嵌入式软件（应用软件）；
3)可编程逻辑器件软件(FPGA)。

# 测试基础知识-测试方法（黑盒、白盒）

从是否考虑程序内部结构和内部特性的角度，测试方法可分为白盒测试、黑盒测试和灰盒测试（不常用)。简单来说：白盒测试是“透视内脏”，黑盒测试是“盲测功能”。

黑盒测试：
测试视角：站在用户视角，只关注软件的输入和输出；该方法适用于所有软件类型，也就是说针对嵌入式软件、非嵌入式软件（应用软件）、可编程逻辑器件都可以采用黑盒测试的方法来测。
代码能力：几乎不需要代码能力。

白盒测试：
测试视角：站在软件开发人员的视角，看代码、逻辑、数据结构；该方法也适用于所有软件类型，也就是说针对嵌入式软件、非嵌入式软件（应用软件）、可编程逻辑器件都可以采用白盒测试的方法来测。
代码能力：必须懂代码。

# 测试基础知识-测试方法（静态、动态）

从是否实际执行程序的角度，测试方法可分为动态测试和静态测试。静态测试就是不运行代码（只看代
码/文档)，动态测试必须运行代码（输入数据看输出结果）。

静态测试：一般做文档审查、代码审查等；
动态测试：功能测试、性能测试等。

# 测试基础知识测试方法(FPGA常用方法)

FPGA常用的测试方法：
仿真测试：分功能仿真和时序仿真。
- 功能仿真先行：确保代码逻辑无缺陷，再进入综合和布局布线。类以“纸上谈兵”验证设计可行性。
- 时序仿真收尾：发现物理实现的潜在问题（如关键路径过长）。类以“实战演练”确保设计能扛住真实硬件环境。
- 功能仿真回答“设计对不对”，时序仿真回答"设计快不快（能否在指定频率下跑稳）”。二者如同理论验证”与"实战检验”的关系，缺一不可。
实物测试：也就是黑盒测试。

# 测试基础知识-测试级别

按照TE-BTCG-003-2021《J用软件测试指南》标准要求划分如下：
- 单元测试：测试对象是最小代码集合的软件单元，即某个函数单元；主要开展白盒测试。
- 单元集成测试：测试对象是软件单元集成过程中形成的软件部件；主要开展白盒测试。
- 配置项测试：测试对象是软件配置项，也就是一个独立软件；主要开展黑盒测试。
- 配置项集成测试：测试对象是由软件配置项及其接口相连的其他软/硬件配置项集成得到的局部系统；主要开展黑盒测试。
- 系统测试：测试对象是完整集成的软硬件系统。按子系统、分系统、全系统逐层开展；主要开展黑盒测试。

按照GJB/Z141-2004《JY软件测试指南》标准要求划分如下：
- 单元测试：测试对象是最小代码集合的软件单元，即某个函数单元；主要开展白盒测试。
- 部件测试：测试对象是软件单元集成过程中形成的软件部件；主要开展白盒测试。
- 配置项测试：测试对象是软件配置项，也就是一个独立软件；主要开展黑盒测试。
- 系统测试：测试对象是完整集成的软硬件系统。按子系统、分系统、全系统逐层开展；主要开展黑盒测试。

上述测试级别的说法适用于所有软件类型，也就是说针对嵌入式软件、非嵌入式软件（应用软件）、可编程逻辑器件都可从上述测试级别开展测试。
单元测试和单元集成测试一般采用白盒测试方法，辅以黑盒测试方法；配置项测试、配置项集成测试和系统测试一般采用黑盒测试方法，辅助以白盒测试方法。

应根据软件测试目的、要求及软件重要度等级等特点，选取适当的测试类型开展测试，TE-003中的测试类型如下：
a)文档类测试。文档审查；
b)代码类测试。代码审查、代码走查、静态分析、逻辑测试，
c)数据类测试。数据审查、数据处理测试，
d)功能类测试。功能测试、边界测试、可恢复性测试、安装性测试；
e)性能类测试。性能测试、余量测试、强度测试、容量测试，
f)接口类测试。接口测试、人机交互界面测试，
g)专项类测试。安全性测试、可靠性测试、互操作性测试、兼容性测试。
注：可编程逻辑器软件测试类型还包括时序测试、功耗分析参见GJB9433。

| 非嵌入式软件 |            测试级别             |                     单元测试、配置项测试、系统测试                     |
| :----: | :-------------------------: | :-----------------------------------------------------: |
|        |            测试方法             |                        黑盒测试、白盒测试                        |
|        | 测试类型<br>GJB141、324号文、TE-003 | 静态测试：文档审查、代码审查、静态分析；<br>动态测试：逻辑测试、功能测试、边界测试、可恢复测试、安装性测试 |

| 嵌入式软件 |            测试级别             |                       单元测试、配置项测试、系统测试                        |
| :---: | :-------------------------: | :----------------------------------------------------------: |
|       |            测试方法             |                          黑盒测试、白盒测试                           |
|       | 测试类型<br>GJB141、324号文、TE-003 | 静态测试：文档审查、代码审查、静态分析、代码走查；<br>动态测试：逻辑测试、功能测试、边界测试、可恢复测试、安装性测试 |

| 可编程逻辑器件软件 |      测试级别       |                    单元测试、配置项测试、系统测试                    |
| :-------: | :-------------: | :---------------------------------------------------: |
|           |      测试方法       |                       黑盒测试、白盒测试                       |
|           | 测试类型<br>GJB9433 | 静态测试：文档审查、代码审查、静态分析、代码走查；<br>动态测试：逻辑测试、功能测试、边界测试、时序测试 |
单元测试和单元集成测试一般采用白盒测试方法，辅助以黑盒测试方法；配置项测试、配置项集成测试和系统测试一般采用黑盒测试方法，辅助以白盒测试方法。

# 测试基础知识软件等级分类

按软件重要性等级划分为：Ⅰ、Ⅱ、Ⅲ、Ⅳ;
按安全性等级划分为：A、B、C、D
- 关键软件：A级、Ⅰ级；
- 重要软件：B级、Ⅱ级；
- 一般软件：Ⅲ、Ⅳ、C、D。

# 测试基础知识-软件状态

- 新研软件：专为本型号重新开发的软件属于新研软件。
- 改进软件：之前已完成定型，本次拿来后做了部分改进，该软件在本型号中为改进软件。
- 沿用软件（定型）：在别的型号中已完成定型，本型号直接拿来使用的软件，该软件在本型号中为沿用软件。
- 货架软件：商用软件。
- 开源软件。

# 评测流程

测试阶段

|  测试阶段  |                                            主要工作                                             |
| :----: | :-----------------------------------------------------------------------------------------: |
| 测试需求分析 | 对测试任务开展测试需求分析，确定测试项、测试类型及测试要求，对测试项进行分析，得到软件设计约束、测试方法、测试点、测试优先级和测试终止条件；根据测试资源和测试环境的情况确定测试进度。 |
| 测试大纲评审 |                                   组织软件研制方、测试方等进行软件测试大纲评审。                                   |
| 测试设计阶段 |                           根据评审过的测评大纲开展测试设计，对每个测试项及测试点开展分析，设计测试用例集                           |
| 测试设计评审 |                                   组织软件研制方、测试方等进行软件测试说明评审。                                   |
|  测试执行  |              测试执行时按照测试说明执行测试用例，如实、详细记录测试用例执行后的软件实际输出结果及现象，特别是对有具体量值的必须记录原始数值。               |
|  回归测试  |      针对上一轮次测试发现问题的问题原因及处理措施，进行回归影响域分析，制定回归测试策略，根据影响域分析结果确定测试内容，新增、修改、复用回归测试，执行回归测试用例。       |
|  测试总结  |             对测评过程、测试执行情况、测试结果、软件测评问题等内容进行总结，对被测件软件、系统进行度量、分析和评价，给出测评结论，形成测评报告。              |
| 测试总结评审 |                                   组织软件研制方、测试方等进行软件测试总结评审。                                   |


|  测试阶段  |       测试成果        |
| :----: | :---------------: |
| 测试需求分析 |      软件测试大纲       |
| 测试设计阶段 |   测试说明（含测试用例集）    |
|  测试执行  | 软件测试记录<br>软件问题报告单 |
|  回归测试  |      回归测试记录       |
|  测试总结  |      软件测试报告       |

# FPGA基本概念

FPGA(Field-Programmable Gate Array,现场可偏程门阵列)是一种可编程逻辑器件，用户可以根据需求配置其逻辑功能。它由可编程逻辑块、互连资源和/O单元组成，广泛应用于数字电路设计、信号处理和嵌入式系统等领域。
FPGA测试是对FPGA设计进行全面验证的过程，确保其功能、性能等符合预期。测试贯穿整个开发周期，涵盖从设计到实际应用的各个阶段。一般情况下，先进行仿真测试，再进行实物测试。

# 测试类型

FPGA测试共13种测试类型，依据的标准是GJB-9433,其中代码审查VHDL使用的是GJB-9765,verilog使用的是GJB-10157
测试工具：Questasim(仿真)、HDL designer(代码审查)
- 静态测试：文档审查、代码审查、代码走查
- 动态测试：逻辑测试、功能测试、性能测试、时序测试、接口测试、强度测试、余量测试、安全性测试、边界测试、功耗分析

民机项目依据的是D0-254,主要包含以下几类，具体测试类型需要看计划，目前做过C919、AG600两个型号的多个FPGA软件，覆盖A、B、C级。
- 代码审查：代码审查
- 仿真测试：功能仿真、时序仿真、逻辑测试
- 物理/实物测试：功能测试
- 静态时序分析：静态时序分析

# 测试级别和测试过程

FPGA软件的测试级别一般包括：单元测试、配置项测试和系统测试
FPGA软件的测试过程一般包括：测试策划（测试大纲）、测试设计和实现（测试说明）、测试执行（首轮测试记录、首轮问题单；回归测试记录、回归问题单...）、测试总结（测试报告）

表1测试级别与测试类型对应关系

| 序号  | 测试级别  | 测试类型 |      |      |      |      |      |      |      |      |      |       |      |      |
| :-: | :---: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :---: | :--: | :--: |
|     |       | 文档审查 | 代码审查 | 代码走查 | 逻辑测试 | 功能测试 | 性能测试 | 时序测试 | 接口测试 | 强度测试 | 余量测试 | 安全性测试 | 边界测试 | 功耗测试 |
|  1  | 单元测试  |  ●   |  ●   |  ●   |  ●   |  ●   |  ●   |  -   |  ●   |  -   |  -   |   ●   |  ●   |  -   |
|  2  | 配置项测试 |  ●   |  ●   |  ●   |  ●   |  ●   |  ●   |  ●   |  ●   |  ●   |  ●   |   ●   |  ●   |  ●   |
|  3  | 系统测试  |  ●   |  ●   |  ●   |  -   |  ●   |  ●   |  -   |  ●   |  ●   |  -   |   ●   |  ●   |  -   |
注：“●”为该测试级别可含有该类测试类型，“-”为该测试级别不应含有该类测试类型

# 测试方法

`设计检查`
设计检查是采用人工（包含工具辅助）的方法，对开发文档及工程文件等进行测试，设计检查一般包含以下工作内容：
a)检查文档的正确性、准确性和一致性：
b)检查代码和设计的一致性、代码执行标准的情况、代码逻辑表达的正确性、代码结构的合理性以及代码的可读性：
c)检查被测试软件的外部接口与其外围接口芯片的接口符合性，被测软件外部接口相关代码在逻辑和时序方面处理方式的合理性：
d)检查内部模块之间接口信号的一致性，内部模块之间接口信号相关代码在逻辑和时序方面处理方式的合理性：
e)检查约束文件的正确性、一致性。

`功能仿真`
功能仿真是在不包含信号传输延时信息的条件下，用仿真方法验证设计的逻辑功能是香正确的过程。功能仿真一般包含如下工作内容：
a)依据测试用例的要求，建立功能仿真环境，编制仿真测试激励向量，应满足被测软件外部输入的功能、性能、时序、接口等要求：
b)在仿真工具中开展功能仿真工作，人工或自动检测仿真结果，并依据判定准则确定测试用例是否通过：
c)统计语句覆盖率和分支覆盖率等覆盖率信息，对未覆盖的情况进行影响域分析。

`门级仿真`
门级仿真是针对逻辑综合后网表文件开展的仿真测试，门级仿真一般包含以下工作内容：
a)
依据测试用例的要求，建立门级仿真环境，编制仿真激励测试向量，针对逻辑综合后的网表文件开展门级仿真：
b)
在仿真工具中开展门级仿真工作，人工或自动检测仿真结果。

`时序仿真`
时序仿真是针对布局布线之后的网表文件和标准延时格式文件开展的仿真测试。时序仿真一般包含以下工作内容：
a)
依据测试用例的要求，建立时序仿真环境，编制仿真激励测试向量集：
b)
在仿真工具中开展时序仿真工作，人工或自动检测仿真结果，并依据判定准则确定测试用例是否通过。

`静态时序分析`
依据测试用例的要求，针对逻辑综合或布局布线后的网表文件和标准延时格式文件开展静态时序分析，一般包含以下工作内容：
a)
定义时序约束：
b)
在静态时序分析工具中加载被测文件，被测试文件包括：逻辑综合或布局布线后的网表文件、标准延时格式文件、时序约束文件、相关库文件：
c)
分别在三种工况下开展静态时序分析：
d)
对未覆盖情况进行分析和说明：
e)
人工对时序分析得到的信总进行二次分析，对时序违反情况进行问题追踪和定位。

`逻辑等效性检查`
依据测试用例的要求，对设计代码、逻辑综合后的网表文件及布局布线后的网表文件开展逻辑等效性检查。·一般包含以下工作内容：
a)
在逻辑等效性检查工具中加载被测文件：
b)
在逻辑等效性检查工具中人工对尚未匹配的比对点进行分析和匹配：
c)
执行逻辑等效性检查：
d)
人工对分析结果进行二次分析，对不等价点进行问题追踪和定位。

`实物测试`
实物测试是将配置文件加载到真实的日标板中或经过认可的目标板中，向被测试可编程逻辑器件施加激励，确认输出是否正确的过程。实物测试一般包含以下工作内容：
a)
依据测试用例的要求，在实际运行条件下，对软件实现的功能和性能指标进行测试：
b)
在真实的硬件环境中，对被测软件施加测试激励，记录测试结果

表2测试类型优先选择的测试方法关系

| 序号  | 测试类型  | 测试方法  |       |       |       |        |         |       |
| :-: | :---: | :---: | :---: | :---: | :---: | :----: | :-----: | :---: |
|     |       | 设计检查  | 功能仿真  | 门级仿真  | 时序仿真  | 静态时序仿真 | 逻辑等效型检查 | 实物测试  |
|  1  | 文档审查  | ==Ⅰ== |   -   |   -   |   -   |   -    |    -    |   -   |
|  2  | 代码审查  | ==Ⅰ== |   -   |   -   |   -   |   -    |    -    |   -   |
|  3  | 代码走查  | ==Ⅰ== |   -   |   -   |   -   |   -    |    -    |   -   |
|  4  | 逻辑测试  |   -   | ==Ⅰ== |   Ⅱ   |   Ⅲ   |   -    |    -    |   -   |
|  5  | 功能测试  |   -   | ==Ⅰ== |   Ⅱ   |   Ⅲ   |   -    |    Ⅳ    | ==Ⅴ== |
|  6  | 性能测试  |   -   | ==Ⅳ== |   -   | ==Ⅰ== |   Ⅱ    |    -    | ==Ⅲ== |
|  7  | 时序测试  |   -   | ==Ⅳ== |   -   | ==Ⅰ== | ==Ⅱ==  |    -    |   Ⅲ   |
|  8  | 接口测试  |   -   | ==Ⅲ== |   Ⅱ   |   Ⅰ   |   -    |    -    | ==Ⅳ== |
|  9  | 强度测试  |   -   |   Ⅱ   |   -   |   Ⅰ   |   -    |    -    | ==Ⅲ== |
| 10  | 余量测试  | ==Ⅰ== |   Ⅱ   |   Ⅳ   |   Ⅴ   |   Ⅲ    |    -    |   -   |
| 11  | 安全性测试 | ==Ⅰ== | ==Ⅱ== | ==Ⅲ== |   Ⅳ   |   -    |    -    | ==Ⅴ== |
| 12  | 边界测试  |   -   | ==Ⅰ== |   Ⅱ   |   Ⅲ   |   -    |    -    | ==Ⅳ== |
| 13  | 功耗分析  | ==Ⅰ== |   -   |   Ⅱ   |   Ⅲ   |   -    |    -    |   -   |

注：达到同等测试目的，节省测试周期、更容易在设计前期捕获问题，选择测试的原则，
优先级由高到低(I、Ⅱ、Ⅲ、Ⅳ、Ⅴ、Ⅵ...)高亮为当前测试类型对应主要使用的测试方法